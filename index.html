<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Queen's Gambit å¥³ç‹çš„æ£‹å±€</title>
    
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">

    <style>
        /* --- CSS: å®šç¾©é«˜ç´šæ„Ÿçš„è®Šæ•¸ --- */
        :root {
            --primary: #4A148C; /* çš‡å®¤æ·±ç´«è‰² */
            --primary-light: #7c43bd;
            --accent: #C5A47E;  /* é¦™æª³å†·é‡‘ (ç”¨æ–¼é»ç¶´) */
            
            /* èƒŒæ™¯æ¼¸å±¤ï¼šç‡Ÿé€ é«˜ç´šç´™å¼µæˆ–å¤§ç†çŸ³çš„è³ªæ„Ÿ */
            --bg-gradient: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            
            /* å¡ç‰‡èƒŒæ™¯ï¼šå¾®é€æ˜ç™½è‰²ï¼Œè£½é€ ç»ç’ƒè³ªæ„Ÿ */
            --card-bg: rgba(255, 255, 255, 0.92);
            
            --text-dark: #2D2D2D;
            --text-grey: #757575;
            
            /* é«˜ç´šæ„Ÿé™°å½±ï¼šæ›´æŸ”å’Œã€æ›´æ·±é‚ƒ */
            --shadow-soft: 0 10px 30px -10px rgba(0,0,0,0.15);
            --shadow-sharp: 0 4px 15px rgba(0,0,0,0.08);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg-gradient); /* å¥—ç”¨è³ªæ„ŸèƒŒæ™¯ */
            color: var(--text-dark);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .app-container {
            width: 100%;
            max-width: 480px;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
            padding-bottom: 90px; /* åº•éƒ¨ç•™ç©ºçµ¦å°èˆªåˆ— */
            position: relative;
            overflow-x: hidden; /* é˜²æ­¢æ©«å‘æ»¾å‹• */
        }

        /* --- Header å€åŸŸ --- */
        header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 25px;
            padding-top: 10px;
        }
        
        /* âœ… App Icon æ¨£å¼ */
        .app-logo {
            width: 45px;
            height: 45px;
            border-radius: 12px; /* åœ“è§’çŸ©å½¢ */
            box-shadow: var(--shadow-sharp);
            margin-right: 12px;
            border: 2px solid white; /* åŠ å€‹ç™½é‚Šæ›´æœ‰è³ªæ„Ÿ */
        }

        h1 {
            margin: 0;
            font-size: 22px;
            font-weight: 800;
            color: var(--primary);
            letter-spacing: 0.5px;
        }

        /* --- é€šç”¨å¡ç‰‡æ¨£å¼ (ç»ç’ƒæ“¬æ…‹) --- */
        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px); /* ç£¨ç ‚ç»ç’ƒæ•ˆæœ (éƒ¨åˆ†ç€è¦½å™¨æ”¯æ´) */
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: var(--shadow-soft);
            border: 1px solid rgba(255, 255, 255, 0.5); /* å¾®ç™¼å…‰é‚Šæ¡† */
            margin-bottom: 20px;
        }

        /* --- ç›²ç›’å¿ƒæ…‹å¡ç‰‡ (é‡æ–°é…è‰²) --- */
        .labubu-card {
            /* ä½¿ç”¨æ·±ç´«åˆ°é¦™æª³é‡‘çš„æ¼¸å±¤ï¼Œæ›´é¡¯è²´æ°£ */
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 60%, var(--accent) 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        /* åŠ ä¸€é»èƒŒæ™¯ç´‹ç†è£é£¾ */
        .labubu-card::before {
            content: '';
            position: absolute;
            top: -50%; left: -50%;
            width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
            pointer-events: none;
        }

        .labubu-card h2 { margin-top: 0; font-size: 13px; opacity: 0.9; display: flex; align-items: center; color: rgba(255,255,255,0.8); }
        .labubu-card p { font-size: 19px; font-weight: bold; font-style: italic; line-height: 1.4; margin: 15px 0; text-shadow: 0 2px 4px rgba(0,0,0,0.2); }

        /* --- å€å¡Šæ¨™é¡Œ --- */
        .section-title {
            color: var(--text-grey);
            font-size: 13px;
            font-weight: 700;
            margin: 25px 0 10px 5px;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        /* --- âœ… æ–°å¢ï¼šæ¯æ—¥æ™¨é–“å„€å¼ (Daily Ritual) --- */
        .daily-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .daily-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background: rgba(255,255,255,0.6);
            border-radius: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        /* éš±è—é è¨­ checkbox */
        .daily-item input[type="checkbox"] { display: none; }

        /* è‡ªå®šç¾© checkbox å¤–è§€ */
        .checkbox-custom {
            width: 22px; height: 22px;
            border-radius: 6px;
            border: 2px solid var(--accent);
            margin-right: 15px;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.2s;
        }
        .checkbox-custom i { color: white; font-size: 14px; transform: scale(0); transition: all 0.2s; }

        /* å‹¾é¸å¾Œçš„ç‹€æ…‹ */
        .daily-item input:checked + .checkbox-custom { background: var(--accent); border-color: var(--accent); }
        .daily-item input:checked + .checkbox-custom i { transform: scale(1); }
        .daily-item input:checked ~ span { text-decoration: line-through; color: var(--text-grey); }

        /* --- åŠŸèƒ½ç¶²æ ¼ --- */
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .feature-card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 20px 15px;
            text-align: center;
            box-shadow: var(--shadow-sharp);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            border: 1px solid rgba(255,255,255,0.8);
        }

        .feature-card:active { transform: scale(0.96); }
        .feature-card i { font-size: 28px; display: block; margin-bottom: 12px; }
        /* ç‚ºä¸åŒåŠŸèƒ½æŒ‡å®šå°ˆå±¬çš„é«˜ç´šè‰² */
        .fc-radar i { color: #5C6BC0; }
        .fc-auditor i { color: #66BB6A; }
        .fc-locker i { color: #29B6F6; }
        .fc-dojo i { color: #FFA726; }
        
        .feature-card h3 { margin: 0; font-size: 15px; color: var(--text-dark); font-weight: 600; }
        .feature-card span { font-size: 11px; color: var(--text-grey); display: block; margin-top: 5px;}

        /* --- é é¢åˆ‡æ›èˆ‡å°èˆª --- */
        .page { display: none; animation: fadeScale 0.3s cubic-bezier(0.4, 0.0, 0.2, 1); }
        .page.active { display: block; }
        @keyframes fadeScale { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

        /* åº•éƒ¨å°èˆªåˆ— (ç»ç’ƒè³ªæ„Ÿ) */
        .nav-bar {
            position: fixed;
            bottom: 20px; left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 40px); max-width: 440px;
            background: rgba(255, 255, 255, 0.9); /* åŠé€æ˜ */
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            box-shadow: var(--shadow-soft);
            border-radius: 25px; /* åœ“æ½¤é€ å‹ */
            z-index: 100;
            border: 1px solid rgba(255,255,255,0.5);
        }
        .nav-item { text-align: center; color: #BBB; font-size: 11px; cursor: pointer; transition: color 0.3s; }
        .nav-item.active { color: var(--primary); font-weight: 700; }
        .nav-item i { display: block; font-size: 22px; margin-bottom: 4px; }

        /* --- å…¶ä»–é é¢å…ƒä»¶å„ªåŒ– --- */
        .back-btn { background: none; border: none; font-size: 16px; color: var(--primary-light); cursor: pointer; margin-bottom: 15px; display: flex; align-items: center; font-weight: 600;}
        h2 { color: var(--primary); font-size: 20px; margin-top: 0;}

        /* å¯©è¨ˆå“¡è¼¸å…¥æ¡† */
        textarea { width: 100%; height: 120px; padding: 15px; border-radius: 15px; border: 2px solid #eee; margin-bottom: 15px; font-size: 16px; box-sizing: border-box; background: rgba(255,255,255,0.8); transition: border 0.3s; outline: none;}
        textarea:focus { border-color: var(--primary-light); }
        .feedback-box { padding: 15px; border-radius: 15px; background: #eee; font-weight: bold; white-space: pre-line; }

        /* æŒ‰éˆ•å„ªåŒ– */
        .btn-outline { border: 2px solid var(--primary); color: var(--primary); background: transparent; padding: 12px 25px; border-radius: 25px; cursor: pointer; margin-top: 10px; font-weight: 600; transition: all 0.2s; }
        .btn-outline:active { background: var(--primary-light); color: white; border-color: transparent;}
        .freeze-btn { width: 100%; padding: 15px; background: linear-gradient(to right, var(--primary), var(--primary-light)); color: white; border: none; border-radius: 15px; font-size: 18px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 10px rgba(106, 27, 154, 0.3); }
        .freeze-btn.disabled { background: #ccc; box-shadow: none; }

        /* é›·é”å‹¾é¸ */
        .checklist-item { display: flex; align-items: center; padding: 15px; background: rgba(255,255,255,0.8); margin-bottom: 10px; border-radius: 15px; border: 1px solid white;}
        .checklist-item input { margin-right: 15px; transform: scale(1.3); accent-color: var(--primary); }

    </style>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>

<div class="app-container">
    
    <div id="page-home" class="page active">
        <header>
            <img src="icon.png" alt="Logo" class="app-logo">
            <h1>Queen's Gambit</h1>
        </header>

        <div class="glass-card labubu-card" onclick="refreshQuote()">
            <h2><i class="fas fa-gem"></i>&nbsp; Labubu Mindset ç›²ç›’å¿ƒæ³•</h2>
            <p id="daily-quote">"æˆ‘æ˜¯å®šåƒ¹ $450 çš„é™é‡ç›²ç›’ï¼Œå«Œè²´å°±åˆ¥è²·ã€‚"</p>
            <div style="font-size: 11px; text-align: right; margin-top: 15px; opacity: 0.8; letter-spacing: 1px;">TAP TO REFRESH</div>
        </div>

        <div class="section-title">æ¯æ—¥æ™¨é–“å„€å¼ DAILY RITUAL</div>
        <div class="glass-card daily-list">
            <label class="daily-item">
                <input type="checkbox">
                <div class="checkbox-custom"><i class="fas fa-check"></i></div>
                <span>æ ¸å¿ƒè‡ªä¿¡ç¢ºèª (æˆ‘æ˜¯çå“ï¼Œä¸æ˜¯è¿½æ±‚è€…)</span>
            </label>
            <label class="daily-item">
                <input type="checkbox">
                <div class="checkbox-custom"><i class="fas fa-check"></i></div>
                <span>æƒ…ç·’è­·ç›¾é–‹å•Ÿ (ä¿æŒç©©å®šï¼Œä¸éš¨ä¹‹èµ·èˆ)</span>
            </label>
            <label class="daily-item">
                <input type="checkbox">
                <div class="checkbox-custom"><i class="fas fa-check"></i></div>
                <span>å¤–è²Œè³‡ç”¢ç›¤é» (å¦å®¹ç©¿æ­ç¢ºèªå®Œç•¢)</span>
            </label>
        </div>

        <div class="section-title">æˆ°è¡“å·¥å…·ç®± TACTICAL TOOLS</div>
        <div class="grid">
            <div class="feature-card fc-radar" onclick="navTo('radar')">
                <i class="fas fa-radar"></i>
                <h3>ç”·å˜‰è³“é›·é”</h3>
                <span>ç†æ€§ç¯©é¸</span>
            </div>
            <div class="feature-card fc-auditor" onclick="navTo('auditor')">
                <i class="fas fa-pen-fancy"></i>
                <h3>è¨Šæ¯å¯©è¨ˆå“¡</h3>
                <span>è©±è¡“å„ªåŒ–</span>
            </div>
            <div class="feature-card fc-locker" onclick="navTo('locker')">
                <i class="fas fa-snowflake"></i>
                <h3>æƒ…ç·’å†·å‡åº«</h3>
                <span>å¼·åˆ¶å†·éœ</span>
            </div>
            <div class="feature-card fc-dojo" onclick="navTo('dojo')">
                <i class="fas fa-chess-queen"></i>
                <h3>ä¿®ç…‰é“å ´</h3>
                <span>å¯¦æˆ°ç·´ç¿’</span>
            </div>
        </div>
    </div>

    <div id="page-radar" class="page">
        <button class="back-btn" onclick="navTo('home')"><i class="fas fa-arrow-left"></i>&nbsp; è¿”å›</button>
        <h2>ğŸ§ ç”·å˜‰è³“é›·é”</h2>
        <div class="glass-card">
            <p style="color:var(--text-grey); font-size:14px; margin-top:0;">è«‹å‹¾é¸è§€å¯Ÿåˆ°çš„è¡Œç‚ºï¼Œå•Ÿå‹•ç†æ€§è…¦ï¼š</p>
            <div id="checklist-container">
                </div>
            <div id="radar-result" class="result-box" style="padding: 20px; text-align: center; font-weight: bold; border-radius: 15px; margin-top: 20px; color: white; display: none; box-shadow: var(--shadow-soft);"></div>
        </div>
    </div>

    <div id="page-auditor" class="page">
        <button class="back-btn" onclick="navTo('home')"><i class="fas fa-arrow-left"></i>&nbsp; è¿”å›</button>
        <h2>ğŸ“ è¨Šæ¯å¯©è¨ˆå“¡</h2>
        <div class="glass-card">
            <p style="color:var(--text-grey); font-size:14px; margin-top:0;">ç™¼é€å‰ï¼Œå…ˆè®“å¯©è¨ˆå“¡éç›®ï¼š</p>
            <textarea id="msg-input" placeholder="è²¼ä¸Šå¦³çš„è‰ç¨¿..." oninput="analyzeMessage()"></textarea>
            <div id="msg-feedback" class="feedback-box" style="color: grey; background: rgba(0,0,0,0.05);">ç­‰å¾…è¼¸å…¥...</div>
        </div>
    </div>

    <div id="page-locker" class="page">
        <button class="back-btn" onclick="navTo('home')"><i class="fas fa-arrow-left"></i>&nbsp; è¿”å›</button>
        <h2>â„ï¸ æƒ…ç·’å†·å‡åº«</h2>
        <div class="glass-card" style="text-align: center;">
            <i class="fas fa-icicles" style="font-size: 50px; color: var(--accent); margin-bottom: 20px;"></i>
            <p style="color: var(--text-grey);">æƒ³ç™¼è„¾æ°£ï¼Ÿä»–å·²è®€ä¸å›ï¼Ÿ<br>ç¾åœ¨å›è¦†å°±è¼¸äº†ã€‚</p>
            
            <div id="timer-display" style="font-size: 60px; font-weight: 800; color: var(--primary); margin: 30px 0; font-variant-numeric: tabular-nums;">00:00</div>
            
            <button id="btn-freeze" class="freeze-btn" onclick="startFreeze(10)">âš¡ï¸ é«”é©—å†·å‡ (10ç§’)</button>
            <br><br>
            <button class="freeze-btn" style="background: linear-gradient(to right, #d32f2f, #c2185b); box-shadow: 0 4px 10px rgba(194, 24, 91, 0.3);" onclick="startFreeze(3600)">ğŸ”’ æ­£å¼å†·å‡ (1å°æ™‚)</button>
            
            <p id="freeze-msg" style="margin-top: 25px; color: var(--accent); font-weight: bold; display: none;">â„ï¸ å†·å‡åŸ·è¡Œä¸­ï¼Œæ²ˆé»˜æ˜¯æœ€å¤§çš„æ‡²ç½°ã€‚</p>
        </div>
    </div>

    <div id="page-dojo" class="page">
        <button class="back-btn" onclick="navTo('home')"><i class="fas fa-arrow-left"></i>&nbsp; è¿”å›</button>
        <h2>ğŸ¥‹ æº«æŸ”ä¸å¥½æƒ¹é“å ´</h2>
        
        <div class="glass-card quiz-card" style="text-align: center;">
            <div style="margin-bottom: 20px;"><i class="fas fa-graduation-cap" style="font-size: 40px; color: var(--primary-light);"></i></div>
            <div id="dojo-q" style="font-size: 18px; font-weight: bold; margin-bottom: 25px; line-height: 1.5;">é¡Œç›®è¼‰å…¥ä¸­...</div>
            <button id="btn-show-ans" class="btn-outline" onclick="showAnswer()">æŸ¥çœ‹é«˜ä½å›è¦†</button>
            <div id="dojo-a" style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 15px; color: #2E7D32; display: none; text-align: left; margin-top: 20px; border: 1px solid rgba(76, 175, 80, 0.3);"></div>
        </div>

        <div style="display: flex; justify-content: space-between; margin-top: 20px; padding: 0 20px;">
            <button class="btn-outline" style="padding: 10px 20px; font-size: 14px;" onclick="nextQuiz(-1)">ä¸Šä¸€é¡Œ</button>
            <button class="btn-outline" style="padding: 10px 20px; font-size: 14px;" onclick="nextQuiz(1)">ä¸‹ä¸€é¡Œ</button>
        </div>
    </div>

    <div class="nav-bar">
        <div class="nav-item active" onclick="navTo('home')">
            <i class="fas fa-crown"></i>
            é¦–é 
        </div>
        <div class="nav-item" onclick="navTo('auditor')">
            <i class="fas fa-file-signature"></i>
            å¯©è¨ˆ
        </div>
        <div class="nav-item" onclick="navTo('locker')">
            <i class="fas fa-hourglass-half"></i>
            å†·å‡
        </div>
    </div>

</div>

<script>
    /* JS é‚è¼¯ä¿æŒä¸è®Š */

    // --- 1. é é¢å°èˆªç³»çµ± ---
    function navTo(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById('page-' + pageId).classList.add('active');
        document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
        
        // ç°¡å–®çš„å°èˆªæ¿€æ´»ç‹€æ…‹åˆ‡æ›
        if(pageId === 'home') document.querySelector('.nav-item:nth-child(1)').classList.add('active');
        if(pageId === 'auditor') document.querySelector('.nav-item:nth-child(2)').classList.add('active');
        if(pageId === 'locker') document.querySelector('.nav-item:nth-child(3)').classList.add('active');

        window.scrollTo(0,0);
    }

    // --- 2. ç›²ç›’å¿ƒæ…‹èªéŒ„ ---
    const quotes = [
        "æˆ‘æ˜¯å®šåƒ¹ $450 çš„é™é‡ç›²ç›’ï¼Œå«Œè²´å°±åˆ¥è²·ã€‚",
        "ä¸è¦ç•¶ $100 çš„èªªæ˜æ›¸ï¼Œè¦ç•¶è®“äººçŒœä¸é€çš„éš±è—ç‰ˆã€‚",
        "ç”·äººçš„æŠ±æ€¨æ˜¯æŠ•å…¥æˆæœ¬çš„é–‹å§‹ï¼Œè®“ä»–å«Œï¼Œè®“ä»–è²·ã€‚",
        "æ©Ÿç‡åªæœ‰ 1.4%ï¼Œä»–èƒ½ç´„åˆ°æˆ‘æ˜¯ä»–é‹æ°£å¥½ã€‚",
        "ä¿æŒé–“æ­‡æ€§çå‹µï¼Œä¸è¦æ¯æ¬¡éƒ½è®“ä»–ä¸­çã€‚",
        "å¼·è€…å¾ä¸è‡ªè­‰ï¼Œåªçœ‹çµæœã€‚",
        "ä»Šå¤©ä¹Ÿè¦ä¿æŒã€æº«æŸ”ä½†ä¸å¥½æƒ¹ã€çš„é‚Šç•Œæ„Ÿã€‚"
    ];
    function refreshQuote() {
        const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
        document.getElementById('daily-quote').innerText = '"' + randomQuote + '"';
    }
    refreshQuote();

    // --- 3. è¨Šæ¯å¯©è¨ˆå“¡ ---
    function analyzeMessage() {
        const text = document.getElementById('msg-input').value;
        const feedback = document.getElementById('msg-feedback');
        let warnings = [];

        if (text.length > 40) warnings.push("âš ï¸ å¤ªé•·äº†ï¼è¶…é 40 å­—é¡¯å¾—å‘å¾®ï¼Œè«‹åˆªæ¸› 50%ã€‚");
        if (text.includes("æ‹œè¨—") || text.includes("æ±‚ä½ ") || text.includes("æ²’é—œä¿‚")) warnings.push("âš ï¸ åµæ¸¬åˆ°ä½èƒ½é‡è©å½™ï¼ˆæ‹œè¨—/æ²’é—œä¿‚ï¼‰ã€‚");
        if (text.includes("å› ç‚º")) warnings.push("âš ï¸ ä¸è¦éåº¦è§£é‡‹ï¼Œå¼·è€…ä¸è‡ªè­‰ã€‚");

        if (text.length === 0) {
            feedback.innerHTML = "ç­‰å¾…è¼¸å…¥...";
            feedback.style.color = "grey"; feedback.style.background = "rgba(0,0,0,0.05)";
        } else if (warnings.length === 0) {
            feedback.innerHTML = "âœ… å®Œç¾ï¼<br>ç°¡æ½”ã€æœ‰åŠ›ã€ç¥ç§˜ã€‚<br>é€™å°±æ˜¯é«˜ä½è€…çš„èªæ°£ã€‚";
            feedback.style.color = "#2E7D32"; feedback.style.background = "rgba(76, 175, 80, 0.1)";
        } else {
            feedback.innerHTML = warnings.join("<br><br>");
            feedback.style.color = "#c62828"; feedback.style.background = "rgba(198, 40, 40, 0.1)";
        }
    }

    // --- 4. é›·é” Checklist ---
    const checklistData = [
        { text: "å°æœå‹™äººå“¡æ…‹åº¦å‚²æ…¢", isRed: true },
        { text: "åˆæ¬¡è¦‹é¢è‚¢é«”è¶Šç•Œ/é–‹é»ƒè…”", isRed: true },
        { text: "æƒ…ç·’å¤±æ§/è·¯æ€’ç—‡", isRed: true },
        { text: "ä¸»å‹•è²·å–®ä¸”å¤§æ–¹", isRed: false },
        { text: "æ‡‚å¾—å‚¾è½ä¸æ¶è©±", isRed: false },
        { text: "å¤–è¡¨ä¹¾æ·¨/æŒ‡ç”²æ•´æ½”", isRed: false }
    ];

    const clContainer = document.getElementById('checklist-container');
    checklistData.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'checklist-item';
        const colorStyle = item.isRed ? 'color:#e53935;' : 'color:#43A047;';
        div.innerHTML = `
            <input type="checkbox" onchange="calcRadar()" data-red="${item.isRed}">
            <span style="${colorStyle} font-weight:bold; margin-left: 10px;">${item.isRed ? '[ç´…æ——]' : '[åŠ åˆ†]'}</span>&nbsp; ${item.text}
        `;
        clContainer.appendChild(div);
    });

    function calcRadar() {
        const inputs = document.querySelectorAll('#checklist-container input');
        let redCount = 0; let greenCount = 0;
        inputs.forEach(input => {
            if (input.checked) {
                if (input.getAttribute('data-red') === 'true') redCount++;
                else greenCount++;
            }
        });
        const resultBox = document.getElementById('radar-result');
        resultBox.style.display = 'block';
        if (redCount > 0) {
            resultBox.innerHTML = `âš ï¸ è­¦å‘Šï¼šç™¼ç¾ ${redCount} å€‹ç´…æ——ï¼<br>å»ºè­°ç«‹å³æ­¢æã€‚`;
            resultBox.style.background = "linear-gradient(135deg, #ef5350, #c62828)";
        } else if (greenCount >= 2) {
            resultBox.innerHTML = `âœ… æ½›åŠ›è‚¡ï¼šç™¼ç¾ ${greenCount} å€‹å„ªé»ã€‚<br>å¯ä»¥ç¹¼çºŒè§€å¯Ÿã€‚`;
            resultBox.style.background = "linear-gradient(135deg, #66bb6a, #2E7D32)";
        } else {
            resultBox.innerHTML = "ğŸ” è³‡è¨Šä¸è¶³ï¼Œè«‹ç¹¼çºŒè§€å¯Ÿã€‚";
            resultBox.style.background = "linear-gradient(135deg, #ffa726, #ef6c00)";
        }
    }

    // --- 5. å†·å‡åº« Timer ---
    let timerInterval;
    function startFreeze(seconds) {
        clearInterval(timerInterval);
        const display = document.getElementById('timer-display');
        const msg = document.getElementById('freeze-msg');
        const btn = document.getElementById('btn-freeze');
        msg.style.display = 'block';
        btn.classList.add('disabled');
        btn.innerText = "â„ï¸ å†·å‡åŸ·è¡Œä¸­...";
        timerInterval = setInterval(() => {
            seconds--;
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            display.innerText = `${mins}:${secs}`;
            if (seconds <= 0) {
                clearInterval(timerInterval);
                display.innerText = "00:00";
                msg.style.display = 'none';
                btn.classList.remove('disabled');
                btn.innerText = "âš¡ï¸ é«”é©—å†·å‡ (10ç§’)";
                alert("â„ï¸ å†·å‡çµæŸï¼\nå¦³ç¾åœ¨å·²ç¶“å†·éœäº†ï¼Œå¯ä»¥ç”¨ã€Œç°¡çŸ­ã€æº«æŸ”ã€çš„èªæ°£å›è¦†äº†ã€‚");
            }
        }, 1000);
    }

    // --- 6. é“å ´ Quiz ---
    const quizData = [
        { q: "é€±äº”æ™šä¸Š9é»ï¼Œä»–çªç„¶å‚³è¨Šï¼šã€Œè¦ä¸è¦å‡ºä¾†å–ä¸€æ¯ï¼Ÿã€(å‚™èƒæ¸¬è©¦)", a: "âŒ ä¸è¦ç½µäººã€‚<br>âœ… å›è¦†ï¼šã€Œå“å‘€çœŸä¸å·§ï¼Œæˆ‘å·²ç¶“ä¼‘æ¯äº†ã€‚ä¸‹æ¬¡æ—©é»ç´„å–”ï½(ç¬‘è‡‰)ã€<br>ğŸ’¡ è§£æï¼šå»ºç«‹æ™‚é–“é‚Šç•Œï¼Œæ•™å°ä»–éœ€è¦é ç´„ã€‚" },
        { q: "ä»–å•ï¼šã€Œå¦³åœ¨å¹¹å˜›ï¼Ÿã€(é–’æš‡æ¸¬è©¦)", a: "âŒ ä¸è¦ç§’å›è¡Œç¨‹è¡¨ã€‚<br>âœ… éš”30åˆ†å›ï¼šã€Œå‰›å¿™å®Œå¿ƒæƒ…ä¸éŒ¯ã€‚ä½ å‘¢ï¼Ÿã€<br>ğŸ’¡ è§£æï¼šå±•ç¤ºè±å¯Œç”Ÿæ´»ï¼ŒæŠŠçƒä¸Ÿå›å»ã€‚" },
        { q: "ä»–è¸©åˆ°å¦³åº•ç·šï¼ˆä¾‹å¦‚é²åˆ°æ²’é“æ­‰ï¼‰ã€‚", a: "âŒ ä¸è¦å¤§åµå¤§é¬§ã€‚<br>âœ… å†·å‡æ³•ï¼šä¸è®€ä¸å›ç›´åˆ°æ˜å¤©ã€‚è¦‹é¢æ™‚æ·¡æ·¡èªªï¼šã€Œæˆ‘ä¸å–œæ­¡ç­‰äººã€‚ã€<br>ğŸ’¡ è§£æï¼šæ²ˆé»˜æ¯”åµæ¶æ›´æœ‰å¨æ‡¾åŠ›ã€‚" }
    ];
    let quizIdx = 0;
    function renderQuiz() {
        document.getElementById('dojo-q').innerText = quizData[quizIdx].q;
        document.getElementById('dojo-a').style.display = 'none';
        document.getElementById('dojo-a').innerHTML = quizData[quizIdx].a;
    }
    function showAnswer() { document.getElementById('dojo-a').style.display = 'block'; }
    function nextQuiz(dir) {
        quizIdx += dir;
        if (quizIdx < 0) quizIdx = quizData.length - 1;
        if (quizIdx >= quizData.length) quizIdx = 0;
        renderQuiz();
    }
    renderQuiz();

</script>

</body>
</html>